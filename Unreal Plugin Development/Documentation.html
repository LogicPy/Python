<style>
body {
  font-family: Arial, sans-serif;
}

h1, h2, h3, h4, h5, h6 {
  color: #333;
}

p {
  line-height: 1.6;
  color: #666;
}

ul {
  padding-left: 20px;
}

li {
  line-height: 1.6;
}

a {
  color: #0099ff;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

div {
  margin-bottom: 20px;
}

</style>

<body>
  <!-- Table of Contents -->
  <div>
    <h1>Table of Contents</h1>
    <ul>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#installation">Installation Guide</a></li>
      <li><a href="#getting-started">Getting Started</a></li>
      <li><a href="#usage">Usage Guide</a></li>
      <li><a href="#troubleshooting">Troubleshooting</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
    </ul>
  </div>


 <div>
    <h2 id="introduction">Introduction</h2>
    <!-- Introduction Content -->
<strong>**Introduction**</strong><br><br>

1.1 **Purpose of the Documentation**<br>
This documentation serves as a comprehensive guide for users of the GPT-2 NPC conversation plugin designed for Unreal Engine. It provides clear instructions and explanations of all plugin functionalities.<br>

<br>
1.2 **Overview of the Plugin**
This plugin facilitates immersive NPC interaction within your game by leveraging the GPT-2 AI model. The plugin uses PyTorch and the transformers Python libraries as back-end technologies. To ensure simplicity and ease of use, these libraries are not required to be installed by the user. Instead, the plugin communicates with a Flask-based server, which handles the GPT-2 AI output and responses.
<br><br>
1.3 **Capabilities of the Plugin**
The plugin empowers users to foster dynamic in-game NPC interactions. NPCs powered by this plugin can exhibit the sophisticated conversational abilities of the GPT-2 AI model, offering an unprecedented level of interaction. Originally developed using OpenAI's GPT-4 AI model, the plugin provides a unique, state-of-the-art communication experience for game developers.
<br><br>
<h2 id="installation">Installation Guide</h2>
    <!-- Installation Guide Content -->
<strong>**Installation Guide**</strong>
<br><br>
Installing the GPTai plugin is a straightforward process that doesn't require extensive technical knowledge. Follow these steps to install and start using the plugin:
<br><br>
Step 1: Install the Plugin
First, download the plugin. Once the download is complete, extract its contents into the "Plugins" folder located in your Unreal Engine project directory. If a "Plugins" folder does not exist, you can create one. The path will look something like this: YourUnrealProject/Plugins/.
<br><br>
Step 2: Enable the Plugin
Next, you need to enable the plugin within your Unreal Engine project. Open your project in the Unreal Engine Editor. Navigate to "Edit -> Plugins" from the top menu, locate the GPTai plugin under "Installed", and check the box marked "Enabled".
<br><br>
Step 3: Use the Plugin
Now you can start using the plugin's features in your project. If you want to display a chat window when an NPC is interacted with, you'll need to set this up in a blueprint.
<br><br>
Open the appropriate blueprint (this could be your level blueprint, or a specific actor's blueprint).
In the blueprint editor, create a "Create Widget" node (you can right-click on the graph and search for "Create Widget" to find this node). In the "Class" dropdown of the "Create Widget" node, select "MyWidget".
After the "Create Widget" node, add an "Add to Viewport" node. This will display the widget on the screen when it is created.
Compile and save your blueprint.
For a visual guide of this process, refer to the demonstration image provided on the plugin's download page.
<br><br>
Remember to check the plugin's documentation for more details on using the plugin's features and understanding its functionality.
<br><br>
**Prerequisites**
This plugin was designed with user-friendliness in mind and thus does not require you to install additional third-party software such as Flask, PyTorch, or transformers. However, if you want to experiment with these libraries yourself, you can install PyTorch and transformers using pip in Python, but this is not necessary for the proper operation of the plugin.
<br><br>
---
 <h2 id="getting-started">Getting Started</h2>
    <!-- Getting Started Content -->
<strong>Getting Started</strong>
<br><br>
3.1 Basic setup and configuration of the plugin in an Unreal project
<br><br>
The GPTai module is comprised of several source and header files that define its functionality:
<br><br>
- GPTai.cpp: This is the main implementation file for the GPTai module. It includes the core logic and functionality of the GPTai module.
<br>- GPTaiBPLibrary.cpp: This source file defines the Blueprint functions that your plugin exposes. These functions can be used in Blueprint to interact with the GPTai module.
<br>- HttpModuleforAi.cpp: This file contains the implementation of the HTTP requests that are used to communicate with the AI.
<br>- UMyWidget.cpp: This file contains the implementation of a custom widget that can be used in your Unreal Engine project.
<br><br>
These source files are paired with header files (GPTai.h, GPTaiBPLibrary.h, HttpModuleforAi.h, UMyWidget.h) that declare the classes and functions implemented in the .cpp files.
<br><br>
During the setup and configuration of the plugin in your Unreal project, these files will be compiled and the GPTai module will become available for use within the Unreal Editor. You do not need to directly modify these files for standard usage of the plugin. 
<br><br>
Any further configuration or modification to the functionality provided by these files should only be carried out if you are familiar with C++ programming in Unreal Engine and understand the structure and purpose of Unreal Engine modules.
<br><br>
3.2 Setting up and running the Flask server for GPT-2<br>
 Linode Tutorial: <br>1) Register an account for Linode.<br>
 				  2) When logged into Linode, navigate to the your active "Linodes", it's usually the top side menu option above "Volumes".<br>
 				  3) Select Create Linode.<br>
 				  4) Select a Linux server with at least 8gb of RAM to successfully install PyTorch. (PyTorch is quite a large size and requires extra RAM)<br>
 				  Note: If you're planning on using another huggingface model to use for your setup, you may have to scale-up your RAM depending on your <br>model's complexity. Luckily, GPT-2 is quite small, but still an unbelievable ai example in my opinion! <br>
 				  5) After creating your Linode server, run the pip commands to install pytorch and Transformers "pip install torch" and "pip install <br>transformers". <br>
 				  6) After installing the modules, setup your Flask back-end code to communicate with your Ai architecture, next configure the Unreal nodes to <br>your Flask server using my plugins built in http request communication nodes/modules. (These unbelievable modules were assisted in creation by my super intelligent GPT-4 model again. I never get enough help from the amazing GPT-4 ai!)<br>
3.3 Connecting the Flask server to the Unreal plugin<br>
	Reference Files<br>
	Check the file HttpModuleforAi.cpp for information about the custom HTTP request nodes included in this plugin.
<br><br>
	*Setup in Blueprint*
	- Start by using the construct node to reference http module for ai.
	- Create public node references in your blueprint.
	- In MyWidget, use the event construct connected to the construct node.
	- Add a button to your widget's blueprint code and connect On_clicked button event to the http module for ai object variable.
	- Connect this to a string variable as Inputstring and connect that to the Send Post Request Node created by the source file.
<br><br>
	*Connecting to the server*
	- Configure the Send Post Request node to the server where the AI's output will be gathered. For our GPT-2 chatbot, this will be http://45.79.95.88/api.
	- Connect that node to the http module's Update Text Node. The chatbot's underlying processes will assign the data to be placed on your widget's form object.
	- Connect your variable to the form object with the assigned name ChatBox.
<br><br>	
	*Looping and Waiting for Replies*
	- Observe the recursive code for sending and receiving messages from the AI chatbot. It is configured to have a time delay of 5 seconds between sending and receiving new messages.
<br><br>
<h2 id="usage">Usage Guide</h2>
    <!-- Usage Guide Content -->
<strong>Usage Guide</strong>
<br><br>
4.1 Detailed walkthrough of all plugin features and functionalities
<br><br>
4.2 Illustrations and examples of NPC communications using the plugin
<br><br>
Here are the general steps you might take to create a visibility toggled widget chat-window using the chat widget and a trigger box:
<br><br>
<strong>**1. Create a Trigger Box**</strong>
<br><br>
You can create a Trigger Box in Unreal Engine by dragging and dropping it from the "Basic" tab in the "Place Actors" panel into your level.
<br><br>
<strong>**2. Use The Widget 'MyWidget.uasset' Blueprint**</strong>
<br><br>
This widget will be your chatbox. You can create a new widget blueprint by right-clicking in the "Content Browser", selecting "User Interface", and then "Widget Blueprint". You can then design your chatbox in the widget blueprint editor and recycle the code from content folder from the file 'MyWidget.uasset'. Or you can simply use the pre-created version of the chatbox interface created within 'MyWidget.uasset'.
<br><br>
<strong>**3. Set up the Trigger Box Event**</strong>
<br><br>
Select the Trigger Box in your level, and go to the "Level Blueprint". Here you will add the logic for what happens when the third-person character enters the Trigger Box.
<br><br>
- To do this, with the Trigger Box selected, open the Level Blueprint and you will see the Trigger Box in the "Variables" section. <br>
- Right-click on the graph, and select "Add Event for Trigger Box 1" -> "Collision" -> "OnActorBeginOverlap". You now have an event that will trigger when an actor enters the Trigger Box.<br>
- You want this event to show your widget when your character enters the Trigger Box. To do this, drag from the "OnActorBeginOverlap" node, and add a "Create Widget" node. Select your chatbox widget class in this node.<br>
- Drag from the "Create Widget" node, and add an "Add to Viewport" node. This will display the widget on the screen when it is created.<br>
- To ensure this only happens for your character, add a "Cast To ThirdPersonCharacter" node (replace "ThirdPersonCharacter" with your character class) between the "OnActorBeginOverlap" and "Create Widget" nodes. Connect the "Other Actor" output from the "OnActorBeginOverlap" node to the input of the "Cast To" node.<br>
<br><br>
<strong>**4. Set Up the Widget Visibility**</strong>
<br><br>
By default, your MyWidget.uasset widget will be visible when it is created. If you want to hide it initially and then show it when your NPC arrives at the NPC's trigger box collision, you will need to add similar logic as above, but in the NPC's blueprint. 
<br><br>
- First, hide the widget after it is created by adding a "Set Visibility" node after "Add to Viewport", and set it to "Hidden".
- In your NPC's blueprint, add similar logic to the above but make the widget visible instead of creating it. You would get a reference to the widget, and then use a "Set Visibility" node to make it visible.
<br><br>
Remember, this is a general guide, and the exact steps could vary depending on your specific setup and requirements. I hope this helps, and feel free to ask if you have further questions!
4.3 Explanation of any settings or configurations that the user can adjust
<br><br>
    <h2 id="troubleshooting">Troubleshooting</h2>
    <!-- Troubleshooting Content -->
<strong>Troubleshooting</strong>
<br><br>
5.1 Common problems and solutions
<br><br>
Greyed out boxes within plugin? - If you notice greyed-out nodes when you open "MyWidget.uasset", this means you need to compile the project's public and private source files in Visual Studio 2022. Open Visual Studio, load these source files into your project, and compile. This should resolve any issues with greyed-out nodes.
<br><br>
Can other Ai huggingface models be loaded? - Yes, I'd either have to configure them via Flask or you'd have to setup the FLask server yourself, then you can easily host it on Linode after as well. You can also follow the Flask tutorial to build your own plugin essentially like this one using the hosting service Linode, DigitalOcean, or Heroku. You'd need to setup the Linux server, so refer to 3.2-3.3 for more details on this setup and configuration.
<br><br>
5.2 Instructions on where/how to report new issues
	http://Wayne.cool/ - You can use the context form to contact me with any issues you may face using this plugin. I'll try to reply as soon as possible!
<br><br>
<h2 id="conclusion">Conclusion</h2>
<!-- Conclusion Content -->
<strong>Conclusion</strong>
<br><br>
7.1 Summary of the plugin's benefits
	This plugin enables a dynamic dialogue between the user and an NPC as you can communicate with a super intelligent GPT-2 based ai, downloaded from huggingface and setup to a back-end server using pytorch, transformers, and Flask. Then  combined to create this plugin using mainly C++.
7.2 Contact information for support or feedback
	Contact me directly at waynekenneyjr@gmail.com or go to http://wayne.cool/ and use the contact form to send me a message! Also, if you'd like to see the source code used for my personal Flask server, make a request on my http://wayne.cool/ personal website using the subject "Flask Server Source Code Request" within the subject then enter your email in the body for a copy of the source code details!
<br><br>
End-Notes:
	I hope you enjoy using this plugin! It was a blast to create with my good best buddy GPT-4 assisting me with so many challenges.
<br><br>
	Initially I've tried to build this plugin using pytorch and transformers within the plugin, but due to having so many issues with thirdparty
	software integration. GPT-4 suggested I put the modules on the back-end, which completely saved my plugin and prepared it for release! 
	I love ai and I love Unreal. I hope you love using this plugin too. Thank you

</div>
</body>